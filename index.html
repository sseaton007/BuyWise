<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BuyWise - Shop Smarter</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; }
    header { background: #007bff; color: white; text-align: center; padding: 2em; }
    .container { max-width: 800px; margin: 0 auto; padding: 20px; }
    form { margin-bottom: 20px; }
    label { display: block; margin: 10px 0 5px; }
    input, select, textarea { width: 100%; padding: 8px; margin-bottom: 10px; box-sizing: border-box; }
    button { padding: 10px; background: #007bff; color: white; border: none; cursor: pointer; }
    button:hover { background: #0056b3; }
    #result { font-weight: bold; }
  </style>
</head>
<body>
  <header>
    <h1>BuyWise</h1>
    <p>Think before you buy!</p>
    <a href="./spending-companion.html"><button>Get the Chrome Extension</button></a>
  </header>
  <div class="container">
    <h2>Should You Buy It?</h2>
    <form id="itemForm">
      <label for="itemName">Item Name:</label>
      <input type="text" id="itemName" required>
      <label for="itemCost">Cost ($):</label>
      <input type="number" id="itemCost" min="0" step="0.01" required>
      <label for="necessity">Necessity (1 = Not needed, 5 = Essential):</label>
      <input type="range" id="necessity" min="1" max="5" value="3">
      <div id="necessityValue">3</div>
      <button type="submit">Evaluate</button>
    </form>
    <div id="result"></div>

    <h2>Mobile Shopping Mode</h2>
    <p>Use BuyWise on your iPhone or Android while shopping! Save this bookmarklet to get pop-up reminders on checkout pages.</p>
    <p><strong>Steps:</strong></p>
    <ol>
      <li>On your mobile browser, bookmark this page.</li>
      <li>Edit the bookmark, name it "BuyWise Mobile", and set its URL to the code below.</li>
      <li>When shopping (e.g., on Ulta or Amazon), tap the bookmark to activate the pop-up.</li>
    </ol>
    <p><strong>Bookmarklet Code:</strong></p>
    <textarea readonly style="width: 100%; height: 60px; resize: none;">javascript:(function(){var s=document.createElement('script');s.src='https://sseaton007.github.io/BuyWise/mobile-popup.js';document.body.appendChild(s);})();</textarea>
  </div>
  <script>
    document.getElementById('necessity').addEventListener('input', () => {
      document.getElementById('necessityValue').textContent = document.getElementById('necessity').value;
    });
    document.getElementById('itemForm').addEventListener('submit', (e) => {
      e.preventDefault();
      const name = document.getElementById('itemName').value;
      const cost = parseFloat(document.getElementById('itemCost').value);
      const necessity = parseInt(document.getElementById('necessity').value);
      let advice = '';
      if (necessity <= 2) {
        advice = `You probably don't need ${name}. Save $${cost}!`;
      } else if (necessity === 3) {
        advice = `Think twice about ${name}. Do you have something similar?`;
      } else {
        advice = `${name} seems necessary, but can you find it cheaper than $${cost}?`;
      }
      document.getElementById('result').textContent = advice;
    });
  </script>
</body>
</html>